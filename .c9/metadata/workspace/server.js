{"filter":false,"title":"server.js","tooltip":"/server.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":12,"column":38},"end":{"row":12,"column":39},"action":"remove","lines":["t"],"id":6010}],[{"start":{"row":12,"column":37},"end":{"row":12,"column":38},"action":"remove","lines":["a"],"id":6011}],[{"start":{"row":12,"column":36},"end":{"row":12,"column":37},"action":"remove","lines":["d"],"id":6012}],[{"start":{"row":12,"column":35},"end":{"row":12,"column":36},"action":"remove","lines":["p"],"id":6013}],[{"start":{"row":12,"column":34},"end":{"row":12,"column":35},"action":"remove","lines":["u"],"id":6014}],[{"start":{"row":13,"column":37},"end":{"row":13,"column":38},"action":"remove","lines":["_"],"id":6015}],[{"start":{"row":13,"column":36},"end":{"row":13,"column":37},"action":"remove","lines":["e"],"id":6016}],[{"start":{"row":13,"column":35},"end":{"row":13,"column":36},"action":"remove","lines":["t"],"id":6017}],[{"start":{"row":13,"column":34},"end":{"row":13,"column":35},"action":"remove","lines":["a"],"id":6018}],[{"start":{"row":13,"column":33},"end":{"row":13,"column":34},"action":"remove","lines":["d"],"id":6019}],[{"start":{"row":13,"column":32},"end":{"row":13,"column":33},"action":"remove","lines":["p"],"id":6020}],[{"start":{"row":13,"column":31},"end":{"row":13,"column":32},"action":"remove","lines":["u"],"id":6021}],[{"start":{"row":112,"column":5},"end":{"row":112,"column":7},"action":"insert","lines":["*/"],"id":6022},{"start":{"row":94,"column":4},"end":{"row":94,"column":6},"action":"insert","lines":["/*"]}],[{"start":{"row":112,"column":7},"end":{"row":113,"column":0},"action":"insert","lines":["",""],"id":6023},{"start":{"row":113,"column":0},"end":{"row":113,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":113,"column":4},"end":{"row":113,"column":5},"action":"insert","lines":["u"],"id":6024}],[{"start":{"row":113,"column":5},"end":{"row":113,"column":6},"action":"insert","lines":["r"],"id":6025}],[{"start":{"row":113,"column":5},"end":{"row":113,"column":6},"action":"remove","lines":["r"],"id":6026}],[{"start":{"row":113,"column":5},"end":{"row":113,"column":6},"action":"insert","lines":["s"],"id":6027}],[{"start":{"row":113,"column":6},"end":{"row":113,"column":7},"action":"insert","lines":["r"],"id":6028}],[{"start":{"row":113,"column":4},"end":{"row":113,"column":7},"action":"remove","lines":["usr"],"id":6029},{"start":{"row":113,"column":4},"end":{"row":113,"column":13},"action":"insert","lines":["usr_cntrl"]}],[{"start":{"row":113,"column":13},"end":{"row":113,"column":14},"action":"insert","lines":["."],"id":6030}],[{"start":{"row":113,"column":14},"end":{"row":113,"column":15},"action":"insert","lines":["f"],"id":6031}],[{"start":{"row":113,"column":15},"end":{"row":113,"column":16},"action":"insert","lines":["i"],"id":6032}],[{"start":{"row":113,"column":16},"end":{"row":113,"column":17},"action":"insert","lines":["n"],"id":6033}],[{"start":{"row":113,"column":14},"end":{"row":113,"column":17},"action":"remove","lines":["fin"],"id":6034},{"start":{"row":113,"column":14},"end":{"row":113,"column":30},"action":"insert","lines":["findUserRecord()"]}],[{"start":{"row":113,"column":29},"end":{"row":113,"column":30},"action":"insert","lines":["r"],"id":6035}],[{"start":{"row":113,"column":30},"end":{"row":113,"column":31},"action":"insert","lines":["e"],"id":6036}],[{"start":{"row":113,"column":31},"end":{"row":113,"column":32},"action":"insert","lines":["q"],"id":6037}],[{"start":{"row":113,"column":32},"end":{"row":113,"column":33},"action":"insert","lines":[","],"id":6038}],[{"start":{"row":113,"column":33},"end":{"row":113,"column":34},"action":"insert","lines":[" "],"id":6039}],[{"start":{"row":113,"column":34},"end":{"row":113,"column":35},"action":"insert","lines":["r"],"id":6040}],[{"start":{"row":113,"column":35},"end":{"row":113,"column":36},"action":"insert","lines":["e"],"id":6041}],[{"start":{"row":113,"column":36},"end":{"row":113,"column":37},"action":"insert","lines":["s"],"id":6042}],[{"start":{"row":113,"column":37},"end":{"row":113,"column":38},"action":"insert","lines":[","],"id":6043}],[{"start":{"row":113,"column":38},"end":{"row":113,"column":39},"action":"insert","lines":[" "],"id":6044}],[{"start":{"row":113,"column":39},"end":{"row":113,"column":40},"action":"insert","lines":["u"],"id":6045}],[{"start":{"row":113,"column":40},"end":{"row":113,"column":41},"action":"insert","lines":["s"],"id":6046}],[{"start":{"row":113,"column":39},"end":{"row":113,"column":41},"action":"remove","lines":["us"],"id":6047},{"start":{"row":113,"column":39},"end":{"row":113,"column":46},"action":"insert","lines":["user_db"]}],[{"start":{"row":113,"column":47},"end":{"row":113,"column":48},"action":"insert","lines":[";"],"id":6048}],[{"start":{"row":94,"column":3},"end":{"row":112,"column":7},"action":"remove","lines":[" /*email_pswd = \"{\\\"email\\\":\\\"\" + req.params.email + \"\\\",\\\"password\\\":\\\"\" + req.params.password + \"\\\" }\";","    MongoClient.connect(user_url, function(err, db) {","        assert.equal(null, err);","        findUser(db, function() {","            db.close();","        });","    });","    try {","    if (typeof user_doc[0] == 'undefined' ) {","        res.sendStatus(401);","    }","    else {","        res.status(200);","        res.send(\"We found you bro!\");","    }","    }catch(err){","        res.sendStatus(400);","        ","    }*/"],"id":6049}],[{"start":{"row":94,"column":2},"end":{"row":94,"column":3},"action":"remove","lines":[" "],"id":6050}],[{"start":{"row":94,"column":1},"end":{"row":94,"column":2},"action":"remove","lines":[" "],"id":6051}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":1},"action":"remove","lines":[" "],"id":6052}],[{"start":{"row":93,"column":41},"end":{"row":94,"column":0},"action":"remove","lines":["",""],"id":6053}],[{"start":{"row":39,"column":0},"end":{"row":57,"column":2},"action":"remove","lines":["var findUser = function(db, callback) {","    email_pswd = JSON.parse(email_pswd);","    db.collection('users').find(email_pswd).toArray(function(err, results) {","        if (err) {","            user_doc[0] = \"\";","        }","        else if (typeof results[0] == 'undefined' ) {","            console.log(\"Not Found\");","            user_doc=results;","        }","        else {","            console.log(\"Found\");","            console.log(results);","            user_doc= results;","            ","        }","","    });","};"],"id":6054}],[{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""],"id":6055}],[{"start":{"row":37,"column":2},"end":{"row":38,"column":0},"action":"remove","lines":["",""],"id":6056}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":13},"action":"remove","lines":["var user_doc;"],"id":6057}],[{"start":{"row":10,"column":12},"end":{"row":11,"column":0},"action":"remove","lines":["",""],"id":6058}],[{"start":{"row":9,"column":0},"end":{"row":9,"column":15},"action":"remove","lines":["var email_pswd;"],"id":6059}],[{"start":{"row":8,"column":18},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":6060}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":56},"action":"remove","lines":["var user_url = \"mongodb://\" + process.env.IP + \"/users\";"],"id":6061}],[{"start":{"row":3,"column":53},"end":{"row":4,"column":0},"action":"remove","lines":["",""],"id":6062}],[{"start":{"row":50,"column":3},"end":{"row":50,"column":63},"action":"remove","lines":[" patient_email = \"{\\\"email\\\":\\\"\" + req.params.email + \"\\\"}\";"],"id":6063}],[{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"remove","lines":["    "],"id":6064}],[{"start":{"row":47,"column":47},"end":{"row":48,"column":0},"action":"remove","lines":["",""],"id":6065}],[{"start":{"row":49,"column":3},"end":{"row":58,"column":17},"action":"remove","lines":["","    MongoClient.connect(url, function(err, db) {","        assert.equal(null, err);","        findPatient(db, function() {","            db.close();","        });","    });","    console.log(res_doc);","    res.send(res_doc);","    res_doc = \"\";"],"id":6066}],[{"start":{"row":49,"column":3},"end":{"row":49,"column":4},"action":"insert","lines":[" "],"id":6067}],[{"start":{"row":49,"column":4},"end":{"row":49,"column":5},"action":"insert","lines":["p"],"id":6068}],[{"start":{"row":49,"column":5},"end":{"row":49,"column":6},"action":"insert","lines":["a"],"id":6069}],[{"start":{"row":49,"column":6},"end":{"row":49,"column":7},"action":"insert","lines":["t"],"id":6070}],[{"start":{"row":49,"column":4},"end":{"row":49,"column":7},"action":"remove","lines":["pat"],"id":6071},{"start":{"row":49,"column":4},"end":{"row":49,"column":13},"action":"insert","lines":["pat_cntrl"]}],[{"start":{"row":49,"column":13},"end":{"row":49,"column":14},"action":"insert","lines":["."],"id":6072}],[{"start":{"row":49,"column":14},"end":{"row":49,"column":15},"action":"insert","lines":["f"],"id":6073}],[{"start":{"row":49,"column":15},"end":{"row":49,"column":16},"action":"insert","lines":["i"],"id":6074}],[{"start":{"row":49,"column":16},"end":{"row":49,"column":17},"action":"insert","lines":["n"],"id":6075}],[{"start":{"row":49,"column":17},"end":{"row":49,"column":18},"action":"insert","lines":["d"],"id":6076}],[{"start":{"row":49,"column":14},"end":{"row":49,"column":18},"action":"remove","lines":["find"],"id":6077},{"start":{"row":49,"column":14},"end":{"row":49,"column":29},"action":"insert","lines":["findPatRecord()"]}],[{"start":{"row":49,"column":28},"end":{"row":49,"column":29},"action":"insert","lines":["r"],"id":6078}],[{"start":{"row":49,"column":28},"end":{"row":49,"column":29},"action":"remove","lines":["r"],"id":6079},{"start":{"row":49,"column":28},"end":{"row":49,"column":31},"action":"insert","lines":["req"]}],[{"start":{"row":49,"column":31},"end":{"row":49,"column":32},"action":"insert","lines":[","],"id":6080}],[{"start":{"row":49,"column":32},"end":{"row":49,"column":33},"action":"insert","lines":["r"],"id":6081}],[{"start":{"row":49,"column":33},"end":{"row":49,"column":34},"action":"insert","lines":["e"],"id":6082}],[{"start":{"row":49,"column":34},"end":{"row":49,"column":35},"action":"insert","lines":["s"],"id":6083}],[{"start":{"row":49,"column":35},"end":{"row":49,"column":36},"action":"insert","lines":[","],"id":6084}],[{"start":{"row":49,"column":36},"end":{"row":49,"column":37},"action":"insert","lines":[" "],"id":6085}],[{"start":{"row":49,"column":36},"end":{"row":49,"column":37},"action":"remove","lines":[" "],"id":6086}],[{"start":{"row":49,"column":36},"end":{"row":49,"column":37},"action":"insert","lines":["p"],"id":6087}],[{"start":{"row":49,"column":37},"end":{"row":49,"column":38},"action":"insert","lines":["a"],"id":6088}],[{"start":{"row":49,"column":38},"end":{"row":49,"column":39},"action":"insert","lines":["t"],"id":6089}],[{"start":{"row":49,"column":39},"end":{"row":49,"column":40},"action":"insert","lines":["_"],"id":6090}],[{"start":{"row":49,"column":40},"end":{"row":49,"column":41},"action":"insert","lines":["d"],"id":6091}],[{"start":{"row":49,"column":41},"end":{"row":49,"column":42},"action":"insert","lines":["b"],"id":6092}],[{"start":{"row":49,"column":43},"end":{"row":49,"column":44},"action":"insert","lines":[";"],"id":6093}],[{"start":{"row":49,"column":39},"end":{"row":49,"column":40},"action":"insert","lines":["i"],"id":6094}],[{"start":{"row":49,"column":40},"end":{"row":49,"column":41},"action":"insert","lines":["e"],"id":6095}],[{"start":{"row":49,"column":41},"end":{"row":49,"column":42},"action":"insert","lines":["n"],"id":6096}],[{"start":{"row":49,"column":42},"end":{"row":49,"column":43},"action":"insert","lines":["t"],"id":6097}],[{"start":{"row":27,"column":0},"end":{"row":34,"column":2},"action":"remove","lines":["","var findPatient = function(db, callback) {","    patient_email = JSON.parse(patient_email);","    db.collection('patient').find(patient_email).toArray(function(err, results) {","        assert.equal(err, null);","        res_doc = results;","    });","};"],"id":6098}],[{"start":{"row":26,"column":1},"end":{"row":27,"column":0},"action":"remove","lines":["",""],"id":6099}],[{"start":{"row":47,"column":4},"end":{"row":47,"column":26},"action":"remove","lines":["console.log(req.body);"],"id":6100}],[{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"remove","lines":["    "],"id":6101}],[{"start":{"row":46,"column":38},"end":{"row":47,"column":0},"action":"remove","lines":["",""],"id":6102}],[{"start":{"row":40,"column":4},"end":{"row":40,"column":45},"action":"remove","lines":["console.log(\"Parameterized Get request\");"],"id":6103}],[{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"remove","lines":["    "],"id":6104}],[{"start":{"row":39,"column":47},"end":{"row":40,"column":0},"action":"remove","lines":["",""],"id":6105}],[{"start":{"row":7,"column":0},"end":{"row":8,"column":12},"action":"remove","lines":["var patient_email;","var res_doc;"],"id":6106}],[{"start":{"row":6,"column":40},"end":{"row":7,"column":0},"action":"remove","lines":["",""],"id":6107}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":31},"action":"remove","lines":["var MongoClient = require('mongodb').MongoClient;","var assert = require('assert');"],"id":6108}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":53},"action":"remove","lines":["","var url = \"mongodb://\" + process.env.IP + \"/patient\";"],"id":6109}],[{"start":{"row":0,"column":33},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":6110}]]},"ace":{"folds":[],"scrolltop":310.5,"scrollleft":0,"selection":{"start":{"row":0,"column":33},"end":{"row":0,"column":33},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1479017449583,"hash":"493b559ed3641815c022a12a8a78e89100dbd3cf"}